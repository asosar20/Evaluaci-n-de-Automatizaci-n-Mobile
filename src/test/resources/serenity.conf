# =========================
# Serenity BDD - Config
# =========================
serenity {
  project.name = "mobile-testing-project"
  outputDirectory = "target/serenity"
  take.screenshots = AFTER_EACH_STEP
    # take.screenshots = FOR_FAILURES
    # take.screenshots = FOR_EACH_ACTION
    # take.screenshots = DISABLED
  logging = VERBOSE
}

# =========================
# WebDriver Configuration
# =========================
webdriver {
  driver = appium
  autodownload = false

  # URL de Appium
  remote.url = "http://127.0.0.1:4723"

  # Timeouts
  timeouts {
    implicitlywait = 10000
    fluentwait = 10000
  }
}

# =========================
# Appium Hub Configuration
# =========================
appium {
  hub = "http://127.0.0.1:4723"
}

# =========================
# Environment por defecto
# =========================
environment = android

# =========================
# Capabilities Configuration
# =========================
# Define las rutas de los archivos de capabilities
capabilities {
  # Ruta base donde están los archivos JSON
  base.path = "/capabilities/"

  # Archivos de capabilities por plataforma
  android.file = "android-capabilities.json"
  ios.file = "ios-capabilities.json"

  # Puedes agregar más configuraciones
  # android.tablet.file = "android-tablet-capabilities.json"
  # ios.ipad.file = "ios-ipad-capabilities.json"
}

# =========================
# Environments (Override capabilities)
# =========================
# Aquí puedes hacer overrides o agregar capabilities adicionales
environments {
  android {
    capabilities.file = ${capabilities.android.file}

    # Capabilities adicionales o overrides (opcionales)
    # Se mezclan con las del JSON
    additional.capabilities {
      # Ejemplo: Si quieres sobrescribir algo del JSON
      # "appium:deviceName" = "OtroDispositivo"
    }
  }

  ios {
    capabilities.file = ${capabilities.ios.file}

    # Capabilities adicionales o overrides (opcionales)
    additional.capabilities {
      # Ejemplo de capability adicional solo para iOS
      # "appium:wdaLaunchTimeout" = 60000
    }
  }

  # Ejemplo: Configuración para tablet Android
  android-tablet {
    capabilities.file = "android-tablet-capabilities.json"
    additional.capabilities {
      # Capabilities específicas para tablet
    }
  }
}